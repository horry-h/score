<!--settlement.wxml-->
<view class="container">
  <view class="simple-header">
    <text class="title">æˆ¿é—´ç»“ç®—</text>
  </view>

  <view class="content-section">
    <view class="settlement-section">
      <view class="section-title">
        <text class="icon">ðŸ§®</text>
        <text>æœ€ç»ˆåˆ†æ•°</text>
      </view>
      
      <view wx:for="{{players}}" wx:key="id" class="settlement-item">
        <view class="player-info">
          <view class="player-name">{{item.user.nickname}}</view>
          <view class="player-score-desc">æœ€ç»ˆåˆ†æ•°: {{item.final_score | formatScore}}</view>
        </view>
        <view class="settlement-amount {{item.final_score > 0 ? 'positive' : 'negative'}}">
          {{item.final_score | formatScore}}
        </view>
      </view>
    </view>

    <view class="settlement-section" wx:if="{{settlements.length > 0}}">
      <view class="section-title">
        <text class="icon">ðŸ’°</text>
        <text>è½¬è´¦æ–¹æ¡ˆ</text>
      </view>
      
      <view wx:for="{{settlements}}" wx:key="id" class="settlement-item">
        <view class="transfer-desc">{{item.from_user_name}} â†’ {{item.to_user_name}}</view>
        <view class="settlement-amount">{{item.amount}}åˆ†</view>
      </view>
    </view>

    <button class="btn" bindtap="confirmSettlement">
      <text class="icon">âœ…</text>
      <text>ç¡®è®¤ç»“ç®—</text>
    </button>
  </view>
</view>
