<!--profile.wxml-->
<view class="container">
  <view class="header">
    <text class="title">个人信息</text>
  </view>

  <view class="avatar-section">
    <button class="avatar-btn" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
      <image wx:if="{{userInfo.avatar_url}}" src="{{userInfo.avatar_url}}" class="avatar-image" mode="aspectFill"></image>
      <view wx:else class="avatar-placeholder">
        <text class="icon">👤</text>
      </view>
    </button>
    <text class="avatar-hint">点击头像更换</text>
  </view>

  <view class="input-group">
    <label>昵称</label>
    <input type="nickname" placeholder="请输入昵称" value="{{userInfo.nickname}}" bindinput="onNicknameInput" bindblur="onNicknameBlur" />
  </view>

  <view class="input-group">
    <label>微信授权</label>
    <button class="btn btn-secondary" bindtap="authorizeWeChat">
      <text class="icon">💬</text>
      <text>授权微信信息</text>
    </button>
  </view>

  <view class="action-buttons">
    <button class="btn" bindtap="saveUserInfo">
      <text class="icon">💾</text>
      <text>保存信息</text>
    </button>
    <button class="btn btn-secondary" bindtap="backToHome">
      <text class="icon">🏠</text>
      <text>返回主页</text>
    </button>
  </view>
</view>
